import qs from 'query-string'

interface urlQueryParams {
    params: string,
    key: string,
    value: string,
}
export const formUrlQuery = ({ params, key, value }: urlQueryParams) => {
    const queryString = qs.parse(params)
    queryString[key] = value
    return qs.stringifyUrl({
        url: window.location.pathname,
        query: queryString
    })
}

example ==>/products?category=phones 

لإضافة أو تعديل قيمة في الرابط :formUrlQuery 

formUrlQuery({
  params: "category=phones",
  key: "query",
  value: "samsung"
})

resoult ==> /products?category=phones&query=samsung



interface RemoveUrlQueryParams {
    params: string,
    keysToRemove: string[],
}

export const removeKeysFromQuery = ({ params, keysToRemove }: RemoveUrlQueryParams) => {    
    const queryString = qs.parse(params)
    keysToRemove.forEach((key) => { 
        delete queryString[key]
    })
    return qs.stringifyUrl({
        url: window.location.pathname,
        query: queryString
    }, { skipNull: true })
}

لحذف قيم من الرابط :removeKeysFromQuery 

example==>/products?category=phones&query=samsung&page=2


removeKeysFromQuery({
  params: "category=phones&query=samsung&page=2",
  keysToRemove: ["query", "page"]
})

resoult==> /products?category=phones
